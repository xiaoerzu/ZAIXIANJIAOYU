<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:shiro="http://www.pollix.at/thymeleaf/shiro"
>
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="../js/jquery-1.9.1.min.js"></script>
    <script src="../js/bootstrap3/js/bootstrap.js"></script>
    <link rel="stylesheet" href="../js/bootstrap3/css/bootstrap.css"/>
    <link rel="stylesheet" href="../js/bootstrap-treeview/bootstrap-treeview.min.css">
    <script src="../js/bootstrap-treeview/bootstrap-treeview.min.js"></script>
    <link rel="stylesheet" href="../js/bootStrap-addTabs/bootstrap.addtabs.css">
    <script src="../js/bootStrap-addTabs/bootstrap.addtabs.min.js"></script>

</head>
<body>



<div class="container-fluid" style="margin-top: 50px">



    <div class="row">
        <div class="col-sm-2">
            <div id="myTree"></div>
        </div>
        <div class="col-sm-10">
            <div id="myTabs">
                <ul class="nav nav-tabs">
                    <li role="presentation" class="active">
                        <a href="#home" role="tab" data-toggle="tab">首页</a>
                    </li>
                </ul>
                <div class="tab-content">

                </div>
            </div>
        </div>
    </div>
</div>

<script type="text/javascript">

    $(function (){
        initTree();

    })

    function initTree(){
        $.ajax({
            url: "selectTree",
            type: "post",
            dataType: "json",
            success:function(data){
                $("#myTree").treeview({
                    //data属性 树节点信息 json数组
                    data: data,
                    //tree默认展开的节点级别默认为2
                    levels: 0,
                    //含有子节点的图标
                    collapseIcon:'glyphicon glyphicon-star',
                    //没有子节点的图标
                    emptyIcon:'glyphicon glyphicon-star-empty',
                    //背景颜色
                    //backColor: 'green'
                    //是否显示复选框
                    showCheckbox:true,
                    //是否允许选中多个节点
                    //multiSelect:true,
                    //启用节点的超链接功能默认为false,节点需指定href属性
                    enableLinks:false,
                    //事件当节点选中时
                    onNodeSelected:function(event,node){
                        console.log(node);
                        //动态向 nav-tabs 导航标签添加tab选项卡
                        //addTabs方法  add() 添加tab  close()关闭tab  closeAll() 关闭全部tab
                        if(null !=  node.url && node.pid != 0){
                            //子节点  url 不是空
                            $.addtabs.add({
                                id:node.id,
                                title:node.text,
                                url: "../" + node.url,
                            })
                        }else if(node.pid != 0){
                            // 子节点  url 是空
                            $.addtabs.add({
                                id:node.id,
                                title:node.text,
                                url:"404.html"
                            })
                        }
                    }
                })
            }
        })
    }



</script>
</body>
</html>